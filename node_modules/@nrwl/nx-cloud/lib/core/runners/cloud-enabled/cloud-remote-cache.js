const a2_0x349c=['__esModule','retrieve','push','status','cacheError','statuses','storage','forEach','cache-miss','response','store','done','apply','reduce','__awaiter','throw','then','.\x20Status\x20404.','indexOf','api','storeRequests','startRun','filter','VERBOSE_LOGGING','../../../utilities/environment','Nx\x20Cloud:\x20Cache\x20miss\x20','NX_CLOUD_DISTRIBUTED_EXECUTION_ID','hashUrls','note','put','requests','waitForStoreRequestsToComplete','messages','value','.\x20Read\x20only\x20token\x20is\x20used.','axiosException','get','runContext','defineProperty','hash','scheduledTasks','fileStorage','Nx\x20Cloud:\x20Skipping\x20storing\x20','CloudRemoteCache','next','../../../utilities/nx-imports','all'];(function(_0x47d4ad,_0x349cbc){const _0x462321=function(_0x28de76){while(--_0x28de76){_0x47d4ad['push'](_0x47d4ad['shift']());}};_0x462321(++_0x349cbc);}(a2_0x349c,0x192));const a2_0x4623=function(_0x47d4ad,_0x349cbc){_0x47d4ad=_0x47d4ad-0x0;let _0x462321=a2_0x349c[_0x47d4ad];return _0x462321;};'use strict';var __awaiter=this&&this[a2_0x4623('0x23')]||function(_0x330bb2,_0x44eb69,_0xf196f,_0x385a59){function _0x261171(_0x32714f){return _0x32714f instanceof _0xf196f?_0x32714f:new _0xf196f(function(_0x1a3c85){_0x1a3c85(_0x32714f);});}return new(_0xf196f||(_0xf196f=Promise))(function(_0x58f982,_0x4e8172){function _0x59eceb(_0x390b87){try{_0x25d4b9(_0x385a59['next'](_0x390b87));}catch(_0x436d3b){_0x4e8172(_0x436d3b);}}function _0x4b6e67(_0x5de4d9){try{_0x25d4b9(_0x385a59[a2_0x4623('0x24')](_0x5de4d9));}catch(_0x5dd297){_0x4e8172(_0x5dd297);}}function _0x25d4b9(_0x3e0c37){_0x3e0c37[a2_0x4623('0x20')]?_0x58f982(_0x3e0c37[a2_0x4623('0x7')]):_0x261171(_0x3e0c37[a2_0x4623('0x7')])['then'](_0x59eceb,_0x4b6e67);}_0x25d4b9((_0x385a59=_0x385a59[a2_0x4623('0x21')](_0x330bb2,_0x44eb69||[]))[a2_0x4623('0x12')]());});};Object[a2_0x4623('0xc')](exports,a2_0x4623('0x15'),{'value':!![]});exports['CloudRemoteCache']=void 0x0;const environment_1=require(a2_0x4623('0x2d'));const {output}=require(a2_0x4623('0x13'));class CloudRemoteCache{constructor(_0x8d1d3e,_0x314933,_0x5bae65,_0xecf458){this['messages']=_0x8d1d3e;this[a2_0x4623('0x28')]=_0x314933;this['runContext']=_0x5bae65;this[a2_0x4623('0xf')]=_0xecf458;this[a2_0x4623('0x29')]=[];}[a2_0x4623('0x16')](_0x2542b6,_0x5784e8){var _0x41e94c;return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a2_0x4623('0x6')][a2_0x4623('0x19')])return![];const _0x17e5b4=yield this['hashUrls'](_0x2542b6);if(!_0x17e5b4||!_0x17e5b4[a2_0x4623('0xa')]){if(environment_1['VERBOSE_LOGGING']){output[a2_0x4623('0x2')]({'title':a2_0x4623('0x2e')+_0x2542b6+'.'});}this['runContext'][a2_0x4623('0x1a')][_0x2542b6]='cache-miss';return![];}try{yield this[a2_0x4623('0xf')][a2_0x4623('0x16')](_0x2542b6,_0x17e5b4['get'],_0x5784e8);this[a2_0x4623('0xb')][a2_0x4623('0x1a')][_0x2542b6]='remote-cache-hit';return!![];}catch(_0x196eff){const _0x382f1e=(_0x41e94c=_0x196eff['axiosException'])!==null&&_0x41e94c!==void 0x0?_0x41e94c:_0x196eff;if(_0x382f1e[a2_0x4623('0x1e')]&&_0x382f1e['response'][a2_0x4623('0x18')]===0x194){if(environment_1['VERBOSE_LOGGING']){output[a2_0x4623('0x2')]({'title':a2_0x4623('0x2e')+_0x2542b6+a2_0x4623('0x26')});}}else{this[a2_0x4623('0x6')][a2_0x4623('0x19')]=this['messages']['extractErrorMessage'](_0x382f1e,a2_0x4623('0x1b'));}this['runContext']['statuses'][_0x2542b6]=a2_0x4623('0x1d');return![];}});}[a2_0x4623('0x1f')](_0x7e6bf,_0x21f024){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a2_0x4623('0x6')]['cacheError'])return![];const _0x5372ef=Promise['resolve']()[a2_0x4623('0x25')](()=>__awaiter(this,void 0x0,void 0x0,function*(){var _0x3c6c48;const _0x5af889=yield this[a2_0x4623('0x1')](_0x7e6bf);if(!_0x5af889)return![];if(!_0x5af889[a2_0x4623('0x3')]){if(environment_1[a2_0x4623('0x2c')]){output[a2_0x4623('0x2')]({'title':a2_0x4623('0x10')+_0x7e6bf+a2_0x4623('0x8')});}return!![];}try{yield this[a2_0x4623('0xf')][a2_0x4623('0x1f')](_0x7e6bf,_0x5af889[a2_0x4623('0x3')],_0x21f024);return!![];}catch(_0x2a3285){const _0x6f6c38=(_0x3c6c48=_0x2a3285[a2_0x4623('0x9')])!==null&&_0x3c6c48!==void 0x0?_0x3c6c48:_0x2a3285;this[a2_0x4623('0x6')][a2_0x4623('0x19')]=this[a2_0x4623('0x6')]['extractErrorMessage'](_0x6f6c38,a2_0x4623('0x1b'));return![];}}));this['storeRequests'][a2_0x4623('0x17')](_0x5372ef);return _0x5372ef;});}['hashUrls'](_0x25e43f){return __awaiter(this,void 0x0,void 0x0,function*(){if(_0x25e43f in this[a2_0x4623('0xb')][a2_0x4623('0x4')]){return(yield this['runContext'][a2_0x4623('0x4')][_0x25e43f])[_0x25e43f];}else{const _0x577ca7=this['runContext'][a2_0x4623('0xe')][a2_0x4623('0x2b')](_0x1b87ef=>!this['runContext']['requests'][_0x1b87ef[a2_0x4623('0xd')]])['map'](_0x58c366=>_0x58c366[a2_0x4623('0xd')]);if(_0x577ca7[a2_0x4623('0x27')](_0x25e43f)===-0x1){_0x577ca7[a2_0x4623('0x17')](_0x25e43f);}const _0x4dd7b4=this['api'][a2_0x4623('0x2a')](environment_1[a2_0x4623('0x0')],_0x577ca7);_0x577ca7[a2_0x4623('0x1c')](_0x38fc9e=>{this[a2_0x4623('0xb')][a2_0x4623('0x4')][_0x38fc9e]=_0x4dd7b4;});return(yield _0x4dd7b4)[_0x25e43f];}});}[a2_0x4623('0x5')](){return Promise[a2_0x4623('0x14')](this[a2_0x4623('0x29')])[a2_0x4623('0x25')](_0x48370f=>_0x48370f[a2_0x4623('0x22')]((_0x26949e,_0x4b56fe)=>_0x26949e&&_0x4b56fe,!![]));}}exports[a2_0x4623('0x11')]=CloudRemoteCache;