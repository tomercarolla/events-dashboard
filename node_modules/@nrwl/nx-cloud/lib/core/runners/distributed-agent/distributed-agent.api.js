const a5_0x1117=['recordMetric','mapRespToPerfEntry','/nx-cloud/executions/complete-run-group','../../../utilities/metric-logger','agentName','next','__esModule','RUNNER_FAILURE_PERF_ENTRY','runGroup:\x20','VERBOSE_LOGGING','__awaiter','Completed\x20run\x20group\x20with\x20an\x20error','tasks','axiosMultipleTries','createMetricRecorder','defineProperty','note','apply','value','response','error','../../../utilities/nx-imports','../../../utilities/axios','post','apiAxiosInstance','Completing\x20run\x20group\x20with\x20an\x20error','../../../utilities/environment','runGroup','done','throw','completeRunGroup','axiosException','dtePollTasks','DistributedAgentApi'];(function(_0x5c16e8,_0x1117c3){const _0x55269d=function(_0x25d23c){while(--_0x25d23c){_0x5c16e8['push'](_0x5c16e8['shift']());}};_0x55269d(++_0x1117c3);}(a5_0x1117,0x1e7));const a5_0x5526=function(_0x5c16e8,_0x1117c3){_0x5c16e8=_0x5c16e8-0x0;let _0x55269d=a5_0x1117[_0x5c16e8];return _0x55269d;};'use strict';var __awaiter=this&&this[a5_0x5526('0x21')]||function(_0x22457e,_0xc68f0b,_0x2abf36,_0x245b57){function _0x4f078b(_0x2efe4f){return _0x2efe4f instanceof _0x2abf36?_0x2efe4f:new _0x2abf36(function(_0x351034){_0x351034(_0x2efe4f);});}return new(_0x2abf36||(_0x2abf36=Promise))(function(_0xf91ff8,_0x22fdea){function _0x1dff55(_0x2c83d5){try{_0x2be3f9(_0x245b57[a5_0x5526('0x1c')](_0x2c83d5));}catch(_0x50e883){_0x22fdea(_0x50e883);}}function _0x57e5b3(_0x308696){try{_0x2be3f9(_0x245b57[a5_0x5526('0x12')](_0x308696));}catch(_0x246949){_0x22fdea(_0x246949);}}function _0x2be3f9(_0x32544f){_0x32544f[a5_0x5526('0x11')]?_0xf91ff8(_0x32544f[a5_0x5526('0x7')]):_0x4f078b(_0x32544f[a5_0x5526('0x7')])['then'](_0x1dff55,_0x57e5b3);}_0x2be3f9((_0x245b57=_0x245b57[a5_0x5526('0x6')](_0x22457e,_0xc68f0b||[]))[a5_0x5526('0x1c')]());});};Object[a5_0x5526('0x4')](exports,a5_0x5526('0x1d'),{'value':!![]});exports['DistributedAgentApi']=void 0x0;const axios_1=require(a5_0x5526('0xb'));const environment_1=require(a5_0x5526('0xf'));const metric_logger_1=require(a5_0x5526('0x1a'));const {output}=require(a5_0x5526('0xa'));class DistributedAgentApi{constructor(_0x4f06fa,_0x11e735,_0x2c980b){this[a5_0x5526('0x10')]=_0x11e735;this['agentName']=_0x2c980b;this[a5_0x5526('0xd')]=(0x0,axios_1['createApiAxiosInstance'])(_0x4f06fa);}[a5_0x5526('0x1')](_0x30b4ff,_0x486fc9,_0x2c728b){var _0xcff1ca;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1612d5=(0x0,metric_logger_1[a5_0x5526('0x3')])(a5_0x5526('0x15'));try{const _0x3432c1=yield(0x0,axios_1[a5_0x5526('0x2')])(()=>this[a5_0x5526('0xd')][a5_0x5526('0xc')]('/nx-cloud/executions/tasks',{'runGroup':this[a5_0x5526('0x10')],'agentName':this[a5_0x5526('0x1b')],'executionId':_0x30b4ff,'statusCode':_0x486fc9,'completedTasks':_0x2c728b}));_0x1612d5['recordMetric']((0x0,metric_logger_1[a5_0x5526('0x18')])(_0x3432c1));return _0x3432c1['data'];}catch(_0x480e60){_0x1612d5[a5_0x5526('0x17')](((_0xcff1ca=_0x480e60===null||_0x480e60===void 0x0?void 0x0:_0x480e60[a5_0x5526('0x14')])===null||_0xcff1ca===void 0x0?void 0x0:_0xcff1ca[a5_0x5526('0x8')])?(0x0,metric_logger_1[a5_0x5526('0x18')])(_0x480e60[a5_0x5526('0x14')][a5_0x5526('0x8')]):metric_logger_1[a5_0x5526('0x1e')]);throw _0x480e60;}});}['completeRunGroupWithError'](_0x43997d){var _0x1773de;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1[a5_0x5526('0x20')]){output[a5_0x5526('0x5')]({'title':a5_0x5526('0xe'),'bodyLines':[a5_0x5526('0x1f')+this[a5_0x5526('0x10')],'error:\x20'+_0x43997d]});}const _0x5bad55=(0x0,metric_logger_1['createMetricRecorder'])(a5_0x5526('0x13'));try{const _0x3a582c=yield(0x0,axios_1[a5_0x5526('0x2')])(()=>this['apiAxiosInstance'][a5_0x5526('0xc')](a5_0x5526('0x19'),{'runGroup':this['runGroup'],'agentName':this['agentName'],'criticalErrorMessage':_0x43997d}));if(environment_1[a5_0x5526('0x20')]){output[a5_0x5526('0x5')]({'title':a5_0x5526('0x0')});}_0x5bad55[a5_0x5526('0x17')]((0x0,metric_logger_1['mapRespToPerfEntry'])(_0x3a582c));}catch(_0x187e60){_0x5bad55[a5_0x5526('0x17')](((_0x1773de=_0x187e60===null||_0x187e60===void 0x0?void 0x0:_0x187e60['axiosException'])===null||_0x1773de===void 0x0?void 0x0:_0x1773de[a5_0x5526('0x8')])?(0x0,metric_logger_1[a5_0x5526('0x18')])(_0x187e60[a5_0x5526('0x14')][a5_0x5526('0x8')]):metric_logger_1[a5_0x5526('0x1e')]);console[a5_0x5526('0x9')](_0x187e60);}});}}exports[a5_0x5526('0x16')]=DistributedAgentApi;